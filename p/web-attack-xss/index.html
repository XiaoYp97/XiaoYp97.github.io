<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="XSS 是什么？ XSS (Cross-Site Scripting) 是一种网站安全漏洞，其原理是放入恶意脚本，让用户的浏览器执行网站未筛查的 JS 脚本，导致数据被窃取、表单被作弊、页面被篡改等。\nXSS 不只是技术漏洞，更是信任的破坏者!\nXSS 看起来是弹个窗，实际上是把钥匙偷了、钱抽了、后面还跟你说是你自愿的。\nXSS 类型 反射型 XSS（Reflected XSS） 过程：攻击者构造一个恶意链接，把 <script> 放在 URL 里 → 受害者点击链接 → 服务端把参数原样“反射”回网页 → 浏览器执行脚本。 关键点：攻击代码不在服务端持久保存，靠“钓鱼链接”触发。 常见场景：搜索框、跳转链接、错误提示信息。 🧠 类比记忆：像“回音墙”，你说什么它就回什么。\n存储型 XSS（Stored XSS） 过程：攻击者提交脚本（比如发评论）→ 服务端保存到数据库 → 其他用户访问这条评论 → 浏览器执行脚本。 关键点：脚本 被存储下来，访问页面时自动触发，不需要特意点击链接。 常见场景：评论区、论坛帖子、个人资料页、客服聊天记录等。 🧠 类比记忆：像病毒藏在快递里，每个人收件就会感染。\nDOM 型 XSS（DOM-based XSS） 过程：浏览器 JS 读取 URL 参数、Hash、Cookie 等 → 动态写入页面（innerHTML、document.write） → 没有做转义 → 执行脚本。 关键点：完全不经过服务端，漏洞存在于前端 JS 的处理逻辑中。 常见场景：单页应用（SPA）、前端框架中常见。 🧠 类比记忆：像是浏览器自己给自己挖坑，自己跳进去。\n"><title>Web攻击之 XSS</title><link rel=canonical href=https://blog.yellster.top/p/web-attack-xss/><link rel=stylesheet href=/scss/style.min.946cca6c6259ef94ac55abfae7c7bf3291ea3ed5eea17ef77500b257217c6710.css><meta property='og:title' content="Web攻击之 XSS"><meta property='og:description' content="XSS 是什么？ XSS (Cross-Site Scripting) 是一种网站安全漏洞，其原理是放入恶意脚本，让用户的浏览器执行网站未筛查的 JS 脚本，导致数据被窃取、表单被作弊、页面被篡改等。\nXSS 不只是技术漏洞，更是信任的破坏者!\nXSS 看起来是弹个窗，实际上是把钥匙偷了、钱抽了、后面还跟你说是你自愿的。\nXSS 类型 反射型 XSS（Reflected XSS） 过程：攻击者构造一个恶意链接，把 <script> 放在 URL 里 → 受害者点击链接 → 服务端把参数原样“反射”回网页 → 浏览器执行脚本。 关键点：攻击代码不在服务端持久保存，靠“钓鱼链接”触发。 常见场景：搜索框、跳转链接、错误提示信息。 🧠 类比记忆：像“回音墙”，你说什么它就回什么。\n存储型 XSS（Stored XSS） 过程：攻击者提交脚本（比如发评论）→ 服务端保存到数据库 → 其他用户访问这条评论 → 浏览器执行脚本。 关键点：脚本 被存储下来，访问页面时自动触发，不需要特意点击链接。 常见场景：评论区、论坛帖子、个人资料页、客服聊天记录等。 🧠 类比记忆：像病毒藏在快递里，每个人收件就会感染。\nDOM 型 XSS（DOM-based XSS） 过程：浏览器 JS 读取 URL 参数、Hash、Cookie 等 → 动态写入页面（innerHTML、document.write） → 没有做转义 → 执行脚本。 关键点：完全不经过服务端，漏洞存在于前端 JS 的处理逻辑中。 常见场景：单页应用（SPA）、前端框架中常见。 🧠 类比记忆：像是浏览器自己给自己挖坑，自己跳进去。\n"><meta property='og:url' content='https://blog.yellster.top/p/web-attack-xss/'><meta property='og:site_name' content='Yellster - Blog'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='网络攻击'><meta property='article:tag' content='XSS'><meta property='article:published_time' content='2024-04-01T14:48:30+08:00'><meta property='article:modified_time' content='2024-04-01T14:48:30+08:00'><meta name=twitter:title content="Web攻击之 XSS"><meta name=twitter:description content="XSS 是什么？ XSS (Cross-Site Scripting) 是一种网站安全漏洞，其原理是放入恶意脚本，让用户的浏览器执行网站未筛查的 JS 脚本，导致数据被窃取、表单被作弊、页面被篡改等。\nXSS 不只是技术漏洞，更是信任的破坏者!\nXSS 看起来是弹个窗，实际上是把钥匙偷了、钱抽了、后面还跟你说是你自愿的。\nXSS 类型 反射型 XSS（Reflected XSS） 过程：攻击者构造一个恶意链接，把 <script> 放在 URL 里 → 受害者点击链接 → 服务端把参数原样“反射”回网页 → 浏览器执行脚本。 关键点：攻击代码不在服务端持久保存，靠“钓鱼链接”触发。 常见场景：搜索框、跳转链接、错误提示信息。 🧠 类比记忆：像“回音墙”，你说什么它就回什么。\n存储型 XSS（Stored XSS） 过程：攻击者提交脚本（比如发评论）→ 服务端保存到数据库 → 其他用户访问这条评论 → 浏览器执行脚本。 关键点：脚本 被存储下来，访问页面时自动触发，不需要特意点击链接。 常见场景：评论区、论坛帖子、个人资料页、客服聊天记录等。 🧠 类比记忆：像病毒藏在快递里，每个人收件就会感染。\nDOM 型 XSS（DOM-based XSS） 过程：浏览器 JS 读取 URL 参数、Hash、Cookie 等 → 动态写入页面（innerHTML、document.write） → 没有做转义 → 执行脚本。 关键点：完全不经过服务端，漏洞存在于前端 JS 的处理逻辑中。 常见场景：单页应用（SPA）、前端框架中常见。 🧠 类比记忆：像是浏览器自己给自己挖坑，自己跳进去。\n"><link rel="shortcut icon" href=https://avatars.githubusercontent.com/u/37898221></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky compact"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src="https://avatars.githubusercontent.com/u/37898221?v=4" width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>🇨🇳</span></figure><div class=site-meta><h1 class=site-name><a href=/>Yellster - Blog</a></h1><h2 class=site-description>想都是问题，做才是答案</h2></div></header><ol class=menu-social><li><a href=https://github.com/Yellster target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>关于</span></a></li><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>首页</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>归档</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>搜索</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>链接</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#xss-是什么>XSS 是什么？</a></li><li><a href=#xss-类型>XSS 类型</a><ol><li><a href=#反射型-xssreflected-xss><strong>反射型 XSS（Reflected XSS）</strong></a></li><li><a href=#存储型-xssstored-xss><strong>存储型 XSS（Stored XSS）</strong></a></li><li><a href=#dom-型-xssdom-based-xss><strong>DOM 型 XSS（DOM-based XSS）</strong></a></li><li><a href=#一个例子三种写法对比>一个例子，三种写法对比</a></li><li><a href=#核心区别>核心区别</a></li></ol></li><li><a href=#xss-的害处>XSS 的害处</a><ol><li><a href=#对个人>【对个人】</a></li><li><a href=#对系统>【对系统】</a></li><li><a href=#对业务>【对业务】</a></li></ol></li><li><a href=#防御>防御</a><ol><li><a href=#输出编码最核心>输出编码（最核心！）</a></li><li><a href=#输入过滤辅助防线>输入过滤（辅助防线）</a></li><li><a href=#http-安全头部设置>HTTP 安全头部设置</a></li><li><a href=#httponly--secure-cookie>HttpOnly + Secure Cookie</a></li><li><a href=#前端框架防护机制但别完全依赖>前端框架防护机制（但别完全依赖）</a></li><li><a href=#其他补充措施>其他补充措施</a></li><li><a href=#一句话总结>一句话总结</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/%E7%BD%91%E7%BB%9C%E6%94%BB%E5%87%BB/>网络攻击
</a><a href=/categories/xss/>XSS</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/web-attack-xss/>Web攻击之 XSS</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2024-04-01</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>阅读时长: 2 分钟</time></div></footer></div></header><section class=article-content><h2 id=xss-是什么>XSS 是什么？</h2><p>XSS (Cross-Site Scripting) 是一种网站安全漏洞，其原理是放入恶意脚本，让用户的浏览器执行网站未筛查的 JS 脚本，导致数据被窃取、表单被作弊、页面被篡改等。</p><blockquote><p>XSS 不只是技术漏洞，更是信任的破坏者!</p><p>XSS 看起来是弹个窗，实际上是把钥匙偷了、钱抽了、后面还跟你说是你自愿的。</p></blockquote><h2 id=xss-类型>XSS 类型</h2><h3 id=反射型-xssreflected-xss><strong>反射型 XSS（Reflected XSS）</strong></h3><ul><li><strong>过程</strong>：攻击者构造一个恶意链接，把 <code>&lt;script></code> 放在 URL 里 → 受害者点击链接 → 服务端把参数原样“反射”回网页 → 浏览器执行脚本。</li><li><strong>关键点</strong>：攻击代码不在服务端持久保存，靠“钓鱼链接”触发。</li><li><strong>常见场景</strong>：搜索框、跳转链接、错误提示信息。</li></ul><p>🧠 类比记忆：像“回音墙”，你说什么它就回什么。</p><hr><h3 id=存储型-xssstored-xss><strong>存储型 XSS（Stored XSS）</strong></h3><ul><li><strong>过程</strong>：攻击者提交脚本（比如发评论）→ 服务端保存到数据库 → 其他用户访问这条评论 → 浏览器执行脚本。</li><li><strong>关键点</strong>：脚本 <strong>被存储下来</strong>，访问页面时自动触发，不需要特意点击链接。</li><li><strong>常见场景</strong>：评论区、论坛帖子、个人资料页、客服聊天记录等。</li></ul><p>🧠 类比记忆：像病毒藏在快递里，每个人收件就会感染。</p><hr><h3 id=dom-型-xssdom-based-xss><strong>DOM 型 XSS（DOM-based XSS）</strong></h3><ul><li><strong>过程</strong>：浏览器 JS 读取 URL 参数、Hash、Cookie 等 → 动态写入页面（innerHTML、document.write） → 没有做转义 → 执行脚本。</li><li><strong>关键点</strong>：<strong>完全不经过服务端</strong>，漏洞存在于前端 JS 的处理逻辑中。</li><li><strong>常见场景</strong>：单页应用（SPA）、前端框架中常见。</li></ul><p>🧠 类比记忆：像是浏览器自己给自己挖坑，自己跳进去。</p><h3 id=一个例子三种写法对比>一个例子，三种写法对比</h3><p>以攻击者想弹窗 <code>alert(1)</code> 为例：</p><ul><li><p><strong>反射型</strong>：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>http</span><span class=o>:</span><span class=c1>//site.com/search?q=&lt;script&gt;alert(1)&lt;/script&gt;
</span></span></span></code></pre></td></tr></table></div></div></li><li><p><strong>存储型</strong>：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>input</span> <span class=na>name</span><span class=o>=</span><span class=s>&#34;comment&#34;</span> <span class=na>value</span><span class=o>=</span><span class=s>&#34;&lt;script&gt;alert(1)&lt;/script&gt;&#34;</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>然后这个评论被存进数据库，别人一打开就触发。</p></li><li><p><strong>DOM 型</strong>（JS 代码）：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>// JS 代码直接取 URL 参数插到页面
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s1>&#39;output&#39;</span><span class=p>).</span><span class=nx>innerHTML</span> <span class=o>=</span> <span class=nx>location</span><span class=p>.</span><span class=nx>hash</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=c1>// 访问： http://site.com/#&lt;script&gt;alert(1)&lt;/script&gt;
</span></span></span></code></pre></td></tr></table></div></div></li></ul><h3 id=核心区别>核心区别</h3><div class=table-wrapper><table><thead><tr><th>类型</th><th>恶意脚本位置</th><th>触发方式</th><th>是否存储</th><th>示例</th></tr></thead><tbody><tr><td>反射型 XSS</td><td>URL 参数中</td><td>点击恶意链接</td><td>❌ 否</td><td>搜索“&lt;script>alert(1)&lt;/script>”</td></tr><tr><td>存储型 XSS</td><td>数据库 / 日志</td><td>打开启用页面</td><td>✅ 是</td><td>评论区中的 script</td></tr><tr><td>DOM 型 XSS</td><td>前端 DOM 操作</td><td>JS 代码动态触发</td><td>❌ 否</td><td>JS 把 location.hash 写入 HTML</td></tr></tbody></table></div><h2 id=xss-的害处>XSS 的害处</h2><h3 id=对个人>【对个人】</h3><ul><li>窃取 Cookie/会话凭证：偷取登录状态，偷取账号</li><li>伪造页面：伪认证/伪支付码</li><li>强制操作：切换场景合成 CSRF</li><li>推光性弹窗/跳转：骗屏/色情/转账</li></ul><h3 id=对系统>【对系统】</h3><ul><li>数据大量被偷取</li><li>网站内容被乱篡改</li><li>添加 iframe 或动态下载构成木马</li></ul><h3 id=对业务>【对业务】</h3><ul><li>用户信任层层坏坏</li><li>规范风险（如 GDPR、网安法）</li><li>被搜索引擎/安全网站拦截</li></ul><h2 id=防御>防御</h2><h3 id=输出编码最核心>输出编码（最核心！）</h3><blockquote><p>原则：<strong>“信用户输入，死得很惨；编码输出，活得很稳。”</strong></p></blockquote><p>根据输出位置做对应编码（不只是替换 <code>&lt; ></code> 这么简单）：</p><div class=table-wrapper><table><thead><tr><th>输出位置</th><th>编码方式</th><th>示例</th></tr></thead><tbody><tr><td>HTML 元素内容</td><td><code>htmlEncode()</code></td><td><code>&lt;div>${userInput}&lt;/div></code></td></tr><tr><td>HTML 属性值</td><td><code>attributeEncode()</code></td><td><code>&lt;a href="${userInput}"></code></td></tr><tr><td>JS 中的变量</td><td><code>jsEncode()</code></td><td><code>var msg = '${input}';</code></td></tr><tr><td>URL 中的参数</td><td><code>encodeURIComponent()</code></td><td><code>location.href = ...</code></td></tr></tbody></table></div><blockquote><p>✍️ 记住一句话：<strong>不要原样输出用户输入，必须根据上下文编码！</strong></p></blockquote><h3 id=输入过滤辅助防线>输入过滤（辅助防线）</h3><p>虽然不能完全防止 XSS，但能大幅降低攻击难度。</p><ul><li>去除标签：如 <code>&lt;script></code>, <code>&lt;iframe></code> 等。</li><li>黑名单法有限，推荐使用白名单法：只允许部分 HTML 标签。<ul><li>推荐库：<code>DOMPurify</code>（前端） / <code>OWASP Java HTML Sanitizer</code>（后端）</li></ul></li></ul><h3 id=http-安全头部设置>HTTP 安全头部设置</h3><p><strong>Content-Security-Policy (CSP):</strong></p><p>定义允许加载的资源类型、域名，阻止恶意脚本执行。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-http data-lang=http><span class=line><span class=cl><span class=err>Content-Security-Policy: default-src &#39;self&#39;; script-src &#39;self&#39;
</span></span></span></code></pre></td></tr></table></div></div><p>作用：</p><ul><li>禁止内联 <code>&lt;script></code> 执行</li><li>阻止第三方 JS 加载</li><li>检测异常行为</li></ul><h3 id=httponly--secure-cookie>HttpOnly + Secure Cookie</h3><p><strong>设置 Cookie 为 HttpOnly:</strong></p><p>防止 JS 读取 Cookie（攻击者窃取失败）。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-http data-lang=http><span class=line><span class=cl><span class=err>Set-Cookie: session=xxx; HttpOnly; Secure
</span></span></span></code></pre></td></tr></table></div></div><h3 id=前端框架防护机制但别完全依赖>前端框架防护机制（但别完全依赖）</h3><ul><li>Vue、React 等默认会对数据做 HTML 转义</li><li><strong>但要注意</strong>：<ul><li><code>v-html</code>（Vue）/ <code>dangerouslySetInnerHTML</code>（React） 这些接口绕过了防护！</li><li>千万不要对用户数据使用这些 API！</li></ul></li></ul><h3 id=其他补充措施>其他补充措施</h3><ul><li>表单提交加验证码：减缓自动化脚本攻击</li><li>日志记录 + 异常监控：配合 WAF 实时监控异常行为</li><li>使用 Web 安全网关 / 云 WAF：防护基础设施级别的 XSS 尝试</li></ul><h3 id=一句话总结>一句话总结</h3><blockquote><p><strong>XSS 防不住的根本原因，不是框架不行，是开发者在瞎传字符串。</strong></p><p>所以防御的关键在于：<strong>凡是用户输入的，都不要相信；凡是输出前的，都要处理。</strong></p></blockquote></section><footer class=article-footer><section class=article-tags><a href=/tags/%E7%BD%91%E7%BB%9C%E6%94%BB%E5%87%BB/>网络攻击</a>
<a href=/tags/xss/>XSS</a></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".main-article");renderMathInElement(e,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})</script></article><aside class=related-content--wrapper><h2 class=section-title>相关文章</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/web-attack-sql-injection/><div class=article-details><h2 class=article-title>Web攻击之 SQL注入</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2023 -
2025 Yellster - Blog</section><section class=powerby>想都是问题，做才是答案！<br>使用 <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> 构建<br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>